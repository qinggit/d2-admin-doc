(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{172:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._v("D2Admin 的顶栏菜单和侧边栏菜单相互独立互不影响。")]),t._v(" "),t._m(1),t._v(" "),a("p",[t._v("顶栏数据使用 "),a("code",[t._v("$store.state.d2admin.menu.header")]),t._v(" 作为数据源。"),a("router-link",{attrs:{to:"./../sys-vuex/#state-header"}},[t._v("API")])],1),t._v(" "),a("p",[t._v("侧栏数据使用 "),a("code",[t._v("$store.state.d2admin.menu.aside")]),t._v(" 作为数据源。"),a("router-link",{attrs:{to:"./../sys-vuex/#state-aside"}},[t._v("API")])],1),t._v(" "),t._m(2),t._v(" "),a("p",[t._v("顶栏使用 "),a("code",[t._v("$store.commit('d2admin/menu/headerSet', menu)")]),t._v(" 更新数据源。"),a("router-link",{attrs:{to:"./../sys-vuex/#mutations-headerset"}},[t._v("API")])],1),t._v(" "),a("p",[t._v("侧栏使用 "),a("code",[t._v("$store.commit('d2admin/menu/asideSet', menu)")]),t._v(" 更新数据源。"),a("router-link",{attrs:{to:"./../sys-vuex/#mutations-asideset"}},[t._v("API")])],1),t._v(" "),a("p",[t._v("menu 的数据格式见 "),a("router-link",{attrs:{to:"./../sys-vuex/#mutations-headerset"}},[t._v("menu 数据格式")])],1),t._v(" "),t._m(3),t._v(" "),a("p",[t._v("首先请明确一点，D2Admin 完整版的菜单联动只是一个简单方案，不要拘泥于此演示，下面介绍完整版联动的实现帮助您更快速实现自己的联动方案：")]),t._v(" "),a("p",[t._v("设置数据源")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),a("p",[t._v("在 main.js 中使用下面的方式导入")]),t._v(" "),t._m(6),a("p",[t._v("menuHeader 在初始化根实例时在 created 生命周期直接赋值给顶栏菜单")]),t._v(" "),t._m(7),a("p",[t._v("然后在根实例中添加 $route.matched 的监听器")]),t._v(" "),t._m(8),a("p",[t._v("这段代码的作用是当路由改变时，根据当前的路由找到 menuAside 中匹配当前路由对象中顶级路由的那个项目，并且赋值给侧边栏菜单达到联动效果。")]),t._v(" "),a("p",[t._v("您可以删除这部分代码，随意使用 vuex 中提供的顶栏和侧边栏菜单的设置方法来实现自己的菜单联动。")])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"菜单"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#菜单","aria-hidden":"true"}},[this._v("#")]),this._v(" 菜单")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"数据源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据源","aria-hidden":"true"}},[this._v("#")]),this._v(" 数据源")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"设置菜单"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置菜单","aria-hidden":"true"}},[this._v("#")]),this._v(" 设置菜单")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"菜单联动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#菜单联动","aria-hidden":"true"}},[this._v("#")]),this._v(" 菜单联动")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在 "),s("code",[this._v("d2-admin/src/menu/index.js")]),this._v(" 中导出了两个变量，分别是：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("menuAside 预备侧边栏菜单")]),this._v(" "),s("li",[this._v("menuHeader 顶栏菜单")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" menuHeader"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" menuAside "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'@/menu'")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$store"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("commit")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'d2admin/menu/headerSet'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" menuHeader"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("watch"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token string"}},[t._v("'$route.matched'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" _side "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" menuAside"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("filter")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("menu "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" menu"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" val"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$store"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("commit")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'d2admin/menu/asideSet'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _side"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("?")]),t._v(" _side"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children "),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])}],!1,null,null,null);e.options.__file="README.md";s.default=e.exports}}]);